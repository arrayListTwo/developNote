# 异步 - 单线程、异步、event-loop

* 什么是单线程，和异步有什么关系

	* 单线程 - 只有一个线程，同一时间只能做一件事情

	* 原因： 避免 `DOM` 渲染的冲突

		* 浏览器需要渲染 `DOM`

		* `JS` 可以修改 `DOM` 结构

		* `JS` 执行的时候，浏览器 `DOM` 渲染会暂停

		* 两段 `JS` 也不能同时执行（都修改 `DOM` 就冲突了）

		* `webworker` 支持多线程，但是不能访问 `DOM`

	* 解决方案： 异步

* 什么是 `event-loop` （事件轮询）

	* 文字解释

		* 事件轮询，`JS` 实现异步的具体解决方案

		* 同步代码，直接执行

		* 异步函数先放在 **异步队列** 中（只要是放到异步队列中的代码，是可以立即执行的。如果是ajax请求，则需等待请求成功，才会放到异步队列中；如果是setTimeout函数，则等待指定的时间后，才会放到异步队列中）

		* 待 **同步函数** 执行完毕，轮询执行 **异步队列** 的函数

	* 实例分析

	```JavaScript
	setTimeout(function(){
		console.log(100)
	})
	console.log(200)
	
	/* 分析 */

	// 主线程 - 同步代码立即执行
	console.log(200)
	// 异步队列 - 同步代码执行完毕，再来轮询异步队列
	// 监视到异步代码需要执行，则把异步代码放到同步代码中执行
	function(){
		console.log(100)
	}
	```